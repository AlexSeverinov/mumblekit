set(SRCDIR ${PROJECT_SOURCE_DIR}/3rdparty/celt-0.7.0/libcelt)

INCLUDE_DIRECTORIES(
	${PROJECT_SOURCE_DIR}/3rdparty/celt-0.7.0-build/
	${SRCDIR}
)

ADD_LIBRARY(CELT-0.7.0 STATIC
	${SRCDIR}/bands.c
	${SRCDIR}/celt.c
	${SRCDIR}/cwrs.c
	${SRCDIR}/entcode.c
	${SRCDIR}/entdec.c
	${SRCDIR}/entenc.c
	${SRCDIR}/header.c
	${SRCDIR}/kiss_fft.c
	${SRCDIR}/kiss_fftr.c
	${SRCDIR}/laplace.c
	${SRCDIR}/mdct.c
	${SRCDIR}/modes.c
	${SRCDIR}/pitch.c
	${SRCDIR}/psy.c
	${SRCDIR}/quant_bands.c
	${SRCDIR}/rangedec.c
	${SRCDIR}/rangeenc.c
	${SRCDIR}/rate.c
	${SRCDIR}/vq.c
)

TARGET_LINK_LIBRARIES(CELT-0.7.0)
SET_TARGET_PROPERTIES(CELT-0.7.0 PROPERTIES XCODE_ATTRIBUTE_GCC_VERSION "com.apple.compilers.llvm.clang.1_0")
SET_TARGET_PROPERTIES(CELT-0.7.0 PROPERTIES XCODE_ATTRIBUTE_GCC_C_LANGUAGE_STANDARD "c99")
SET_TARGET_PROPERTIES(CELT-0.7.0 PROPERTIES XCODE_ATTRIBUTE_"GCC_THUMB_SUPPORT[arch=armv6]" "NO")
SET_TARGET_PROPERTIES(CELT-0.7.0 PROPERTIES XCODE_ATTRIBUTE_GCC_GENERATE_DEBUGGING_SYMBOLS "YES")
SET_TARGET_PROPERTIES(CELT-0.7.0 PROPERTIES XCODE_ATTRIBUTE_ONLY_ACTIVE_ARCH "NO")
